import{_ as n,c as a,o as s,g as t}from"./app.1a5246a4.js";const h='{"title":"Ace Editor & Splitpanes CodePen clone","description":"Learn how to build a minimalist, no-backend CodePen clone using vue3-ace-editor and splitpanes","frontmatter":{"type":"article","title":"Ace Editor & Splitpanes CodePen clone","slug":"ace-editor-codepen-clone","custom-slug":"ace-editor-codepen-clone","description":"Learn how to build a minimalist, no-backend CodePen clone using vue3-ace-editor and splitpanes","date":"2022-02-06T17:24:10.238Z","cover":"/blog/public/01-cover.jpg"},"headers":[{"level":2,"title":"Preparing a strategy","slug":"preparing-a-strategy"},{"level":2,"title":"Application setup","slug":"application-setup"},{"level":2,"title":"Using splitpanes to form base layout","slug":"using-splitpanes-to-form-base-layout"},{"level":2,"title":"Designing a global Pinia code store","slug":"designing-a-global-pinia-code-store"},{"level":2,"title":"Laying foundation for our universal editor component","slug":"laying-foundation-for-our-universal-editor-component"},{"level":2,"title":"Connecting the Pinia store and CodeEditor component together","slug":"connecting-the-pinia-store-and-codeeditor-component-together"},{"level":2,"title":"Adding editor panels with language labels","slug":"adding-editor-panels-with-language-labels"},{"level":2,"title":"Implementing results panel","slug":"implementing-results-panel"},{"level":2,"title":"Building upon the foundation","slug":"building-upon-the-foundation"}],"relativePath":"articles/create-a-simple-codepen-clone-using-vue3-ace-editor-and-splitpanes.md","lastUpdated":1644518168171}',e={},o=t(`<p><a href="https://wov-codepen-clone.netlify.app/" target="_blank" rel="noopener noreferrer">Live demo on Netlify</a> | <a href="https://github.com/weekly-overvue/ace-editor-codepen-clone" target="_blank" rel="noopener noreferrer">Github repository</a></p><p>Hello and welcome to the very first <em>Weekly OverVue</em> article! I&#39;m Mac, and in this post I&#39;ll teach you how to build a minimalist, no-backend CodePen clone using Vue 3 (shocker!), TypeScript and Pinia, but also the aforementioned community components made by <a href="https://github.com/CarterLi" target="_blank" rel="noopener noreferrer">Carter Li</a> and <a href="https://github.com/antoniandre" target="_blank" rel="noopener noreferrer">Antoni Andre</a> respectively.</p><h2 id="preparing-a-strategy" tabindex="-1">Preparing a strategy <a class="header-anchor" href="#preparing-a-strategy" aria-hidden="true">#</a></h2><p>While I&#39;m confident you&#39;re familiar with this and similar applications, I believe it&#39;s better to reintroduce the concept so as to have a clear outline of core features we&#39;ll need to implement in our own version.</p><p>CodePen allows one to write HTML, CSS, and JavaScript code, and also preview its results <strong>directly</strong> in the web browser. This includes updating the website <strong>live</strong>, ie. as you modify said code. All that functionality combined makes for a <strong>perfect tool</strong> to instantly put up smaller <em>proof of concept</em> or <em>tech demo</em> websites, <strong>without</strong> the need to install a standalone code editor and to configure a dedicated server for such tiny projects.</p><p>Here\u2019s a typical <em>Pen</em> view:</p><p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1644170885657/hl_jUgDfs.png" alt="Typical Pen view screenshot"></p><p>It consists of two <em>main</em> horizontal panels for code editors and the resulting webpage, with the former split into three vertical subpanels. By default, each panel takes up an equal amount of available container space, but it can be freely adjusted and resized to one\u2019s liking. Obviously, there are alternative layouts too, but in this article I\u2019m going to focus on the one I\u2019ve just described.</p><h2 id="application-setup" tabindex="-1">Application setup <a class="header-anchor" href="#application-setup" aria-hidden="true">#</a></h2><p>With a game plan in place, it\u2019s time to bootstrap our Vue application. Now, if you\u2019ve been carefully following <a href="https://twitter.com/WeeklyOverVue" target="_blank" rel="noopener noreferrer">Weekly OverVue on Twitter</a>, then chances are you remember a tweet about the so called <em>blank canvas</em> templates. I\u2019m mentioning this, because we\u2019re about to use one for our CodePen clone. Open a CLI of your choice, and use these commands to clone the <em>No Router</em> template and install necessary dependencies:</p><div class="language-bash"><pre><code>$ <span class="token function">git</span> clone https://github.com/weekly-overvue/blank-canvas-no-router.git codepen-clone
$ <span class="token builtin class-name">cd</span> codepen-clone
$ <span class="token function">npm</span> <span class="token function">install</span>
</code></pre></div><p>Right before you open up your favourite code editor/IDE (pronounced \u02C8v\u026Azj\u028A\u0259l \u02C8stju\u02D0d\u026A\u0259\u028A k\u0259\u028Ad), you\u2019ll need to install the aforementioned <a href="https://antoniandre.github.io/splitpanes/" target="_blank" rel="noopener noreferrer"><code>splitpanes</code></a> component library. As you\u2019ve probably guessed (or looked up) by now, it enables us to implement... well, <em>split panes</em> interface, including support for both horizontal and vertical layouts, as well as nested panels plus out-of-the-box TypeScript support:</p><div class="language-bash"><pre><code>$ <span class="token function">npm</span> <span class="token function">install</span> --save splitpanes
</code></pre></div><h2 id="using-splitpanes-to-form-base-layout" tabindex="-1">Using <code>splitpanes</code> to form base layout <a class="header-anchor" href="#using-splitpanes-to-form-base-layout" aria-hidden="true">#</a></h2><p>Once you\u2019ve installed the package, we can finally start writing some proper code. Go to the <code>main.ts</code> file in the <code>src</code> folder and simply add the following import right below the existing ones. This file includes only the <strong>absolutely necessary</strong> styling for pane elements, leaving further customisation and theming solely to us.</p><div class="language-typescript"><pre><code><span class="token keyword">import</span> <span class="token string">&#39;splitpanes/dist/splitpanes.css&#39;</span><span class="token punctuation">;</span>
</code></pre></div><p>After that, head over to <code>App.vue</code> and remove everything inside <code>&lt;script setup lang=&quot;ts&quot;&gt;</code> and <code>&lt;template&gt;</code> tags, as well as the entire <code>main</code> element styling rule. Then go ahead and import <code>Splitpanes</code> and <code>Pane</code> components in the aforementioned script tag by inserting:</p><div class="language-typescript"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Splitpanes<span class="token punctuation">,</span> Pane <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;splitpanes&#39;</span><span class="token punctuation">;</span>
</code></pre></div><p>In case you somehow didn\u2019t know: thanks to the <code>setup</code> attribute, we don\u2019t need to add all the extra component definition and setup function boilerplate, essentially enabling us to write more concise code, but also providing us with improved type-checking and runtime performance.</p><p>Alright, next up is actually creating a layout similar to the CodePen one pictured above. Let\u2019s begin by adding the main horizontal panes for editor and results <em>zones</em> in our template. <code>Splitpanes</code> component utilises the <strong>vertical</strong> layout by default, but we can switch to horizontal with... well, <code>horizontal</code> prop. Then you have to place two <code>Pane</code> elements inside the panels\u2019 container, where the first one contains another <code>Splitpanes</code> element, but <strong>without</strong> the alternative view prop yet <strong>with</strong> three child <code>Pane</code> elements.</p><p>That\u2019s quite a description, so here\u2019s markup for reference:</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Splitpanes</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main-splitpanes<span class="token punctuation">&quot;</span></span> <span class="token attr-name">horizontal</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pane</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Splitpanes</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>editor-splitpanes<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pane</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pane</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pane</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pane</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pane</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pane</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Splitpanes</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pane</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pane</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pane</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Splitpanes</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Although we\u2019re done with the skeleton (for now), we\u2019re yet to properly style the panel splitters. Create a <code>&lt;style&gt;</code> element below the <code>&lt;template&gt;</code> tag, and add the following rules:</p><div class="language-css"><pre><code><span class="token selector">#main-splitpanes &gt; .splitpanes__splitter,
#editor-splitpanes &gt; .splitpanes__splitter</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #35495e<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">#main-splitpanes &gt; .splitpanes__splitter</span> <span class="token punctuation">{</span>
  <span class="token property">min-height</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">#editor-splitpanes &gt; .splitpanes__splitter</span> <span class="token punctuation">{</span>
  <span class="token property">min-width</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>There\u2019s nothing particularly interesting going on here, so let\u2019s just make sure to save these changes and type in <code>npm run dev</code> in the CLI. If you&#39;ve done everything correctly, you&#39;ll be greeted with a dev server URL. Upon opening the page in your web browser, you should see something like this:</p><p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1644170975483/U8jHG4ISUt.png" alt="Initial panels implementation"></p><p>Now hover over one of these lines and hold your left mouse button. If it\u2019s a vertical line, move your mouse to the left/right (or up/down for a horizontal line). That was pretty simple to implement and equally easy to use, wasn\u2019t it?</p><h2 id="designing-a-global-pinia-code-store" tabindex="-1">Designing a global Pinia code store <a class="header-anchor" href="#designing-a-global-pinia-code-store" aria-hidden="true">#</a></h2><p>Before we get down to integrating <code>vue3-ace-editor</code> with our application, we need to create a unified store for updating HTML, CSS, and JavaScript code of our resulting website, as well as its actual generation. Now, let\u2019s break it down into every element it should consist of:</p><ul><li><strong>ID</strong>: <code>code</code> (surprise!)</li><li><strong>State</strong>: in our case, we only need <code>html</code>, <code>css</code>, and <code>javascript</code> properties. I\u2019m positive they speak for themselves</li><li><strong>Getters</strong>: here I would suggest adding one called <code>resultingDocument</code> for generating the page based on the aforementioned state, but also <code>isEmptyDocument</code> to determine whether the total length of all these state properties (excluding whitespace characters) is equal to zero. If that computed value is <code>true</code>, we\u2019ll show some placeholder text instead of the resulting page</li><li><strong>Actions</strong>: essentially take each state variable, prepend <code>set</code>, make it all camelCase and there you have the actions. They\u2019re pretty much self-explanatory too</li></ul><p>This was the specification - time to convert it into actual code. Let\u2019s start by creating a <code>code.ts</code> file inside the <code>stores</code> directory, then importing Pinia\u2019s <code>defineStore</code> function and writing each store element\u2019s type definitions:</p><div class="language-typescript"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">State</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  html<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  css<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  javascript<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">Getters</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">resultingDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function">isEmptyDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">Actions</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">setHtml</span><span class="token punctuation">(</span>html<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token function">setCss</span><span class="token punctuation">(</span>css<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token function">setJavascript</span><span class="token punctuation">(</span>javascript<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>Yes, <code>Actions</code> type export is 100% intentional and you\u2019ll see why in a minute... Ok, next up is defining and exporting a <code>useCodeStore</code> composable returned by the aforementioned <code>defineStore</code>. It all boils down to:</p><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">const</span> useCodeStore <span class="token operator">=</span> <span class="token generic-function"><span class="token function">defineStore</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token string">&#39;code&#39;</span><span class="token punctuation">,</span> State<span class="token punctuation">,</span> Getters<span class="token punctuation">,</span> Actions<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
  <span class="token string">&#39;code&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token comment">// Snippets below</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>When it comes to our <code>state</code> function, I don\u2019t think I have to convince you to initialise the store with each property being an empty string, just like that:</p><div class="language-typescript"><pre><code><span class="token comment">// The root object here is defineStore&#39;s second argument</span>
<span class="token punctuation">{</span>
  <span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      html<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
      css<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
      javascript<span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Then we\u2019ve got to write our getters: <code>resultingDocument</code> and <code>isEmptyDocument</code>. The former will return a template string with your standard HTML boilerplate, including <code>css</code> in a style tag, <code>html</code> directly in the body, and all the <code>javascript</code> code in a script tag directly before its closing. As for the latter, we need to sum each property\u2019s trimmed text length and check if that total equals zero. Using <code>String.trim()</code> returns a string without the whitespace characters, so if a certain property consists only of spaces, line breaks and so on, trim will return an empty string. Here\u2019s how our getters look like:</p><div class="language-typescript"><pre><code><span class="token punctuation">{</span>
  <span class="token comment">// Remember: this is the exact same object as in snippet above</span>
  <span class="token comment">// I omitted state to make this chunk more &quot;digestible&quot;</span>
  getters<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">resultingDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">
      &lt;!DOCTYPE html&gt;
      &lt;html lang=&quot;en&quot;&gt;
        &lt;head&gt;
          &lt;meta charset=&quot;UTF-8&quot; /&gt;
          &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;
          &lt;style&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>css<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/style&gt;
        &lt;/head&gt;
        &lt;body&gt;
          </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>html<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
          &lt;script&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>javascript<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/script&gt;
        &lt;/body&gt;
      &lt;/html&gt;        
      </span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">isEmptyDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> totalTextLength <span class="token operator">=</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>html<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">+</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>css<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">+</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>javascript<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>

      <span class="token keyword">return</span> totalTextLength <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>And last but not least - actions</p><div class="language-typescript"><pre><code><span class="token punctuation">{</span>
	<span class="token comment">// Just like above</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">setHtml</span><span class="token punctuation">(</span>html<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>html <span class="token operator">=</span> html<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setCss</span><span class="token punctuation">(</span>css<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>css <span class="token operator">=</span> css<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setJavascript</span><span class="token punctuation">(</span>javascript<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>javascript <span class="token operator">=</span> javascript<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>We\u2019re done with our Pinia store! We can move on to...</p><h2 id="laying-foundation-for-our-universal-editor-component" tabindex="-1">Laying foundation for our <em>universal</em> editor component <a class="header-anchor" href="#laying-foundation-for-our-universal-editor-component" aria-hidden="true">#</a></h2><p>Obviously you can\u2019t do anything in our app just yet, as there are no editors or proper preview panel available. Let\u2019s take care of the former for now. First of all, go back to your CLI and run:</p><div class="language-bash"><pre><code>$ <span class="token function">npm</span> <span class="token function">install</span> --save ace-builds
</code></pre></div><p><code>ace-builds</code> contains a set of built Ace editor files, allowing for easier embedding and usage with module bundlers like Vite. Alright, then head over to the <code>main.ts</code> file and add the following right below all the existing imports:</p><div class="language-typescript"><pre><code><span class="token keyword">import</span> ace <span class="token keyword">from</span> <span class="token string">&#39;ace-builds&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&#39;ace-builds/src-min-noconflict/ace&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&#39;ace-builds/src-min-noconflict/theme-tomorrow&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&#39;ace-builds/src-min-noconflict/mode-html&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&#39;ace-builds/src-min-noconflict/mode-css&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&#39;ace-builds/src-min-noconflict/mode-javascript&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> htmlWorker <span class="token keyword">from</span> <span class="token string">&#39;ace-builds/src-min-noconflict/worker-html?url&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> cssWorker <span class="token keyword">from</span> <span class="token string">&#39;ace-builds/src-min-noconflict/worker-css?url&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> javascriptWorker <span class="token keyword">from</span> <span class="token string">&#39;ace-builds/src-min-noconflict/worker-javascript?url&#39;</span><span class="token punctuation">;</span>

ace<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">setModuleUrl</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">ace/mode/html_worker</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> htmlWorker<span class="token punctuation">)</span><span class="token punctuation">;</span>
ace<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">setModuleUrl</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">ace/mode/css_worker</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> cssWorker<span class="token punctuation">)</span><span class="token punctuation">;</span>
ace<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">setModuleUrl</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">ace/mode/javascript_worker</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> javascriptWorker<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>That\u2019s quite a lot for setup code, sure, but we need every single one of these imports to ensure a custom editor theme, all the language modes as well as their respective workers for code analysis and linting are loaded properly. Without these in place, the Ace editor wrapper component simply won\u2019t work. This is why I\u2019d also decided to bootstrap Ace before the actual Vue application.</p><p>Now create a <code>CodeEditor.vue</code> file in the components directory and add the <code>&lt;script setup lang=&quot;ts&quot;&gt;</code> tag. Let\u2019s begin by defining props for the component - we\u2019ll only need a single <code>lang</code> property, which can be set to <code>&#39;html&#39;</code>, <code>&#39;css&#39;</code>, or <code>&#39;javascript&#39;</code>:</p><div class="language-typescript"><pre><code><span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token generic-function"><span class="token function">defineProps</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token punctuation">{</span> lang<span class="token operator">:</span> <span class="token string">&#39;html&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;css&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;javascript&#39;</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>I didn\u2019t miss any import there, because <code>defineProps</code> is a <code>&lt;script setup&gt;</code> exclusive compiler macro. In other words, it will be compiled away while processing the single-file component (or SFC if you\u2019re into fancy acronyms and jargon). Ok, after that go ahead and import the <code>vue3-ace-editor</code> component and <code>Ace</code> namespace from <code>ace-builds</code>:</p><div class="language-typescript"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Ace <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;ace-builds&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> VAceEditor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue3-ace-editor&#39;</span><span class="token punctuation">;</span>
</code></pre></div><p>We need the former to define custom Ace editor instance options, which we\u2019re about to do. Because the editor doesn\u2019t make use of the workers by default, we have to explicitly tell it to do otherwise. Apart from that, I guess it\u2019s a good idea to adjust both the font and tab sizes, like so (feel free to readjust them to your liking; <code>useWorker</code> is non-negotiable though):</p><div class="language-typescript"><pre><code><span class="token comment">// Below the props const</span>
<span class="token keyword">const</span> aceEditorOptions<span class="token operator">:</span> Partial<span class="token operator">&lt;</span>Ace<span class="token punctuation">.</span>EditorOptions<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  useWorker<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  fontSize<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  tabSize<span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>We\u2019re also forced to utilise the <code>Partial</code> type, because some other options I don\u2019t want to modify are actually marked as required in the <code>Ace.EditorOptions</code> definition. Oh, and let\u2019s not forget about the <code>&lt;template&gt;</code> and some borderline basic styling:</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VAceEditor</span>
    <span class="token attr-name">theme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tomorrow<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">:lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>props.lang<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">:options</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>aceEditorOptions<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.ace_editor</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="connecting-the-pinia-store-and-codeeditor-component-together" tabindex="-1">Connecting the Pinia store and <code>CodeEditor</code> component together <a class="header-anchor" href="#connecting-the-pinia-store-and-codeeditor-component-together" aria-hidden="true">#</a></h2><p>With a baseline for the <code>CodeEditor</code> component in place, it\u2019s high time we made use of our global code store in it. So go ahead and import <code>useCodeStore</code> right below <code>VAceEditor</code>:</p><div class="language-typescript"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useCodeStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/stores/code&#39;</span><span class="token punctuation">;</span>
</code></pre></div><p>Then add this <code>codeStore</code> constant below the props:</p><div class="language-typescript"><pre><code><span class="token keyword">const</span> codeStore <span class="token operator">=</span> <span class="token function">useCodeStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Directly below that definition, create another constant named <code>editorContent</code>. It will hold a reference to one of the state properties based on <code>props.lang</code>&#39;s value:</p><div class="language-typescript"><pre><code><span class="token keyword">const</span> editorContent <span class="token operator">=</span> codeStore<span class="token punctuation">[</span>props<span class="token punctuation">.</span>lang<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>We can bind it to the <code>VAceEditor</code> via its <code>:value</code></p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VAceEditor</span>
  <span class="token attr-name">theme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tomorrow<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>props.lang<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:options</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>aceEditorOptions<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>editorContent<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre></div><blockquote><p>But hold on Mac... can\u2019t we just use <code>v-model:value</code> instead? That way we\u2019ll have the state update immediately, ie. as we use the editor... isn\u2019t that what you were going to show us?</p></blockquote><p>Great question! The answer is: <strong>no</strong>, I\u2019m about to show you a cool trick to <strong>debounce</strong> said <code>v-model</code>. If you\u2019re not familiar with the concept of debouncing - this technique enables us to hold off function execution until a specific amount of time has elapsed since the last call. It\u2019s especially useful when a certain callback is fired frequently in short periods of time, even more so if it performs an API call somewhere down the line.</p><p>If you didn\u2019t employ debouncing, you would end up sending a request after <strong>every single function trigger</strong>, effectively hampering your application\u2019s performance on both ends. Of course, we\u2019re not dealing with any kind of API in this tutorial, but bear in mind I\u2019m also here to present you with solutions applicable in real-life scenarios... said some random teenager who\u2019s yet to secure his first developer role, but I hope you get what I mean.</p><p>Ok, let\u2019s get back on track real fast. Go back to your CLI and install <code>debounce</code> package along with its type definitions:</p><div class="language-bash"><pre><code>$ <span class="token function">npm</span> <span class="token function">install</span> --save debounce
$ <span class="token function">npm</span> <span class="token function">install</span> --save-dev @types/debounce
</code></pre></div><p>Now come back to the <code>CodeEditor.vue</code> and import it right below <code>VAceEditor</code>:</p><div class="language-typescript"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> debounce <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;debounce&#39;</span><span class="token punctuation">;</span>
</code></pre></div><p>Because we technically don\u2019t know the exact <code>set*</code> action name in advance, but there are only three possible <code>lang</code> prop values, we can write a simple object with each of said values holding a respective action name:</p><div class="language-typescript"><pre><code><span class="token comment">// Below the codeEditor definition</span>
<span class="token keyword">const</span> langToActionNameMap <span class="token operator">=</span> <span class="token punctuation">{</span>
  html<span class="token operator">:</span> <span class="token string">&#39;setHtml&#39;</span><span class="token punctuation">,</span>
  css<span class="token operator">:</span> <span class="token string">&#39;setCss&#39;</span><span class="token punctuation">,</span>
  javascript<span class="token operator">:</span> <span class="token string">&#39;setJavascript&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>Also, do you remember the <code>Actions</code> type export? Because now it\u2019s the perfect time to utilise it for accessing the action via one of the values above. Unlike the <code>editorContent</code>, TypeScript doesn\u2019t seem to automatically deduct that all these values are valid <code>codeStore</code> keys too, therefore we have to manually infer the type to <code>keyof Actions</code>:</p><div class="language-typescript"><pre><code><span class="token keyword">const</span> action <span class="token operator">=</span> langToActionNameMap<span class="token punctuation">[</span>props<span class="token punctuation">.</span>lang<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token keyword">keyof</span> Actions<span class="token punctuation">;</span>
<span class="token keyword">const</span> updateCode <span class="token operator">=</span> <span class="token function">debounce</span><span class="token punctuation">(</span>codeStore<span class="token punctuation">[</span>action<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Here\u2019s the last digression, I promise. 500 milliseconds can make for a decent <em>reference point</em>, but you might want to lower this value depending on the feature that relies on debouncing, platform the application is running on, etc. You\u2019ll very likely need to gather additional user feedback so as to <em>nail the timing</em>. Tangent over. All that\u2019s left to do is binding <code>updateCode</code> to <code>VAceEditor</code>&#39;s <code>update:value</code> event:</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VAceEditor</span>
  <span class="token attr-name">theme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tomorrow<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>props.lang<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:options</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>aceEditorOptions<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>editorContent<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">@update:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateCode<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre></div><h2 id="adding-editor-panels-with-language-labels" tabindex="-1">Adding editor panels with <em>language labels</em> <a class="header-anchor" href="#adding-editor-panels-with-language-labels" aria-hidden="true">#</a></h2><p>While we could definitely <em>embed</em> our newly created <code>CodeEditor</code>s directly into each pane, I reckon it would be better for a user to know which editor is for HTML, CSS, and which one for JS. That\u2019s why I want you to create a file called <code>EditorPaneContent.vue</code> in the components folder. Once again, start by creating the same script tag and defining props:</p><div class="language-typescript"><pre><code><span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token generic-function"><span class="token function">defineProps</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token punctuation">{</span> lang<span class="token operator">:</span> <span class="token string">&#39;html&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;css&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;javascript&#39;</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Right above the props declaration, import the aforementioned custom editor component:</p><div class="language-typescript"><pre><code><span class="token keyword">import</span> CodeEditor <span class="token keyword">from</span> <span class="token string">&#39;./CodeEditor.vue&#39;</span><span class="token punctuation">;</span>
</code></pre></div><p>Whereas below the props, paste in the following snippet:</p><div class="language-typescript"><pre><code><span class="token keyword">const</span> langToLabelMap <span class="token operator">=</span> <span class="token punctuation">{</span>
  html<span class="token operator">:</span> <span class="token string">&#39;HTML&#39;</span><span class="token punctuation">,</span>
  css<span class="token operator">:</span> <span class="token string">&#39;CSS&#39;</span><span class="token punctuation">,</span>
  javascript<span class="token operator">:</span> <span class="token string">&#39;JavaScript&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> humanisedLabelText <span class="token operator">=</span> langToLabelMap<span class="token punctuation">[</span>props<span class="token punctuation">.</span>lang<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> langLabelClass <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">lang-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>props<span class="token punctuation">.</span>lang<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
</code></pre></div><p>There\u2019s no black magic or other shenanigans going on. You can definitely recognise this pattern of creating a simple <em>map</em> object and reading from it based on component\u2019s props. Alright, it\u2019s time to structure the <code>&lt;template&gt;</code>:</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[<span class="token punctuation">&#39;</span>editor-label<span class="token punctuation">&#39;</span>, langLabelClass]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{ humanisedLabelText }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>editor-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>CodeEditor</span> <span class="token attr-name">:lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>props.lang<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>And last but not least, we need to give this component some drip... <em>ahem</em>, scoped styling:</p><div class="language-css"><pre><code><span class="token selector">.editor-container</span> <span class="token punctuation">{</span>
  <span class="token property">flex</span><span class="token punctuation">:</span> 1 1 auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.editor-label</span> <span class="token punctuation">{</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 4px 0<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.lang-html,
.lang-css</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.lang-html</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #e54d26<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.lang-css</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #3799d6<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.lang-javascript</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #f7df1e<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #000<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Finally, go to <code>App.vue</code> and import <code>EditorPaneContent</code> component and use it as shown here:</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> Splitpanes<span class="token punctuation">,</span> Pane <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;splitpanes&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> EditorPaneContent <span class="token keyword">from</span> <span class="token string">&#39;./components/EditorPaneContent.vue&#39;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Splitpanes</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main-splitpanes<span class="token punctuation">&quot;</span></span> <span class="token attr-name">horizontal</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pane</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Splitpanes</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>editor-splitpanes<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pane</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EditorPaneContent</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>html<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pane</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pane</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EditorPaneContent</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pane</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pane</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EditorPaneContent</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pane</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Splitpanes</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pane</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pane</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pane</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Splitpanes</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Save your changes to be graced with blazingly fast Vite dev server\u2019s hot reload, as well as this view in the web browser:</p><p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1644171001147/cz_Vn7Oh2.png" alt="Final editor panels layout"></p><h2 id="implementing-results-panel" tabindex="-1">Implementing <em>results</em> panel <a class="header-anchor" href="#implementing-results-panel" aria-hidden="true">#</a></h2><p>While we can, technically speaking, edit the code, we\u2019re still unable to see the resulting webpage. Let\u2019s fix that - create a <code>ResultsPaneContent.vue</code> file in the components folder. In our script tag, we need to import and use the code store:</p><div class="language-typescript"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useCodeStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/stores/code&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> codeStore <span class="token operator">=</span> <span class="token function">useCodeStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>In the <code>&lt;template&gt;</code>, we should show a <code>&lt;span&gt;</code> with a generic <em>Results will be shown here</em> message if <code>codeStore.isEmptyDocument</code> is true, and an <code>&lt;iframe&gt;</code> with the <code>codeStore.resultingDocument</code> otherwise. Oh, and don\u2019t forget about the necessary styles:</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>codeStore.isEmptyDocument<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Results will be shown here<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span>
  <span class="token attr-name">v-else</span>
  <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>resulting-document<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">allow</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accelerometer; camera; encrypted-media; display-capture; geolocation; gyroscope; microphone; midi; clipboard-read; clipboard-write<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">allowfullscreen</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">allowpaymentrequest</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">allowtransparency</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">sandbox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>allow-downloads allow-forms allow-modals allow-pointer-lock allow-popups allow-presentation allow-same-origin allow-scripts allow-top-navigation-by-user-activation<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:srcdoc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>codeStore.resultingDocument<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">#resulting-document</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>As you\u2019ve probably guessed, all these <code>allow</code> attributes enable certain features that would normally get blocked due to security concerns. It\u2019s not that I\u2019m disabling all the safeguards, I admit I\u2019ve just shamelessly copied these from the OG CodePen, hahaha.</p><p>Here come the penultimate steps: go back to <code>App.vue</code> add <code>id=&quot;results-pane&quot;</code> to the <code>&lt;Pane&gt;</code> element directly below the <code>editor-splitpanes</code> one, as well as this styling rule:</p><div class="language-css"><pre><code><span class="token selector">#results-pane</span> <span class="token punctuation">{</span>
  <span class="token property">flex-direction</span><span class="token punctuation">:</span> row<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>And at long last</strong>: import the <code>ResultsPaneContent</code> component...</p><div class="language-typescript"><pre><code><span class="token keyword">import</span> ResultsPaneContent <span class="token keyword">from</span> <span class="token string">&#39;./components/ResultsPaneContent.vue&#39;</span><span class="token punctuation">;</span>
</code></pre></div><p>... and place it in the <code>results-pane</code>:</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Splitpanes</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main-splitpanes<span class="token punctuation">&quot;</span></span> <span class="token attr-name">horizontal</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pane</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Splitpanes</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>editor-splitpanes<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pane</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EditorPaneContent</span> <span class="token attr-name">editor-lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>html<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pane</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pane</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EditorPaneContent</span> <span class="token attr-name">editor-lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pane</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pane</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EditorPaneContent</span> <span class="token attr-name">editor-lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pane</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Splitpanes</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pane</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pane</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>results-pane<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ResultsPaneContent</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pane</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Splitpanes</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Make sure to save your changes... <em>et voila:</em></p><p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1644171020383/mCBgPW4O6.png" alt="Editor and results panels together"></p><h1 id="\u{1F389}-you\u2019ve-finished-this-tutorial-\u{1F389}" tabindex="-1">\u{1F389} YOU\u2019VE FINISHED THIS TUTORIAL \u{1F389} <a class="header-anchor" href="#\u{1F389}-you\u2019ve-finished-this-tutorial-\u{1F389}" aria-hidden="true">#</a></h1><p>Thank you so much for reading in! I hope that I\u2019ve managed to properly showcase and guide you through the whole process of building a Vue project using interesting community components, and that you\u2019ve enjoyed this <em>ride</em> too. I\u2019m really looking forward to further exploring all the existing and upcoming Vue/Nuxt components, modules, plugins, etc. and building applications around them to finally write up everything from a game plan to a fully working demo.</p><p>But <strong>don\u2019t click away</strong> just yet, because I\u2019ve got one more thing waiting for you...</p><h2 id="building-upon-the-foundation" tabindex="-1">Building upon the foundation <a class="header-anchor" href="#building-upon-the-foundation" aria-hidden="true">#</a></h2><p>You\u2019ve probably heard of <em>tutorial hell</em> before. I myself have been in that place too, and it\u2019s safe to say I don\u2019t feel like going back there at all. <em>So how did you get out of it then?</em> - you may ask. The answer is: <strong>don\u2019t</strong> jump into a completely new project straightaway. I\u2019d highly recommend you analyse what you\u2019ve just built, try modifying certain elements and observe how the app behaves after applying these changes.</p><p>Or better yet - think of the tutorial project as a <em>baseline</em> which you can expand on by implementing/improving certain functionality. So here\u2019s a list of features you could add to this application:</p><ul><li><strong>Project Autosave</strong> - I\u2019m confident it\u2019s self-explanatory. You\u2019ll just need to register some kind of third-party persisted state Pinia plugin and you should be good to go, but bonus points if you write one yourself.</li><li><strong>Preference-based editor theme</strong> - and I\u2019m obviously talking colour scheme preference here. You can default to the <em>System</em> setting, yet having the option to force <em>Light/Dark</em> theme independently on it would be very nice too.</li><li><strong>Adding external libraries via CDN links</strong> - while the core idea behind CodePen is throwing up smaller POCs and tech demos which require (almost) no dependencies, you\u2019ve still got the choice to include them via <code>unpkg</code>, <code>jsdelivr</code>, or other CDN links. Why should this project lack such functionality?</li><li><strong>Switching to alternative layouts</strong> - as much as I\u2019m a fan of the current layout, some folks might prefer other ones. I don\u2019t see a reason behind being a ruthless dictator who\u2019s forcing everyone else to use only one particular layout. Give us liberty!</li><li><strong>Bringing Emmet and popular key bindings to the table</strong> - apart from language service workers, Ace offers the so called extensions for the good ol\u2019 Emmet, as well as popular editor keyboard shortcuts, including the likes of Visual Studio Code, Sublime Text, or even Vim. Would be worth implementing, especially if you regularly use the last one.</li></ul><p>Of course, you could certainly come up with many more features or even turn this project into a fully fledged full-stack web app, but all the features I\u2019ve listed should <em>keep you busy</em> if you really commit to the idea of treating each tutorial project as a foundation for your own application.</p><p>Thank you once again for sticking to the very end! Mac believes in you - <strong>remember that!</strong></p>`,115),p=[o];function c(l,i,u,r,k,d){return s(),a("div",null,p)}var m=n(e,[["render",c]]);export{h as __pageData,m as default};
